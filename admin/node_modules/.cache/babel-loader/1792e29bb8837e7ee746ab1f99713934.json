{"ast":null,"code":"var _jsxFileName = \"/Users/qinchen/Codes/gt-sustainability-tour/admin/src/Components/Login.js\";\n// Login.js\n// Adapted from https://medium.com/@faizanv/authentication-for-your-react-and-express-application-w-json-web-tokens-923515826e0\nimport React, { Component } from 'react';\nconst AUTH_URL = '/api/authenticate';\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const {\n        value,\n        name\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault(); // TODO: Use fetch to authenticate. For now, just log in\n      // fetch(AUTH_URL, {\n      //     method: 'POST',\n      //     body: JSON.stringify(this.state),\n      //     headers: {\n      //         'Content-Type': 'application/json'\n      //     }\n      // })\n      // .then(res => {\n      //     if (res.status === 200) {\n      //         this.props.history.push('/');\n      //     } else {\n      //         const error = new Error(res.error);\n      //         throw error;\n      //     }\n      // })\n      // .catch(err => {\n      //     console.error(err);\n      //     alert('Error logging in please try again');\n      // });\n\n      this.props.history.push('/dashboard');\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      value: this.state.email,\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      value: this.state.password,\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/qinchen/Codes/gt-sustainability-tour/admin/src/Components/Login.js"],"names":["React","Component","AUTH_URL","Login","constructor","props","handleInputChange","event","value","name","target","setState","onSubmit","preventDefault","history","push","state","email","password","render"],"mappings":";AAAA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,MAAMC,QAAQ,GAAG,mBAAjB;AAEA,eAAe,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AACzCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,iBARmB,GAQEC,KAAD,IAAW;AAC3B,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAkBF,KAAK,CAACG,MAA9B;AACA,WAAKC,QAAL,CAAc;AACV,SAACF,IAAD,GAAQD;AADE,OAAd;AAGH,KAbkB;;AAAA,SAcnBI,QAdmB,GAcPL,KAAD,IAAW;AAClBA,MAAAA,KAAK,CAACM,cAAN,GADkB,CAGlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAKR,KAAL,CAAWS,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AAEH,KAzCkB;;AAEf,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG,EADC;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AAqCDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAM,MAAA,QAAQ,EAAE,KAAKP,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACI,MAAA,IAAI,EAAC,OADT;AAEI,MAAA,IAAI,EAAC,OAFT;AAGI,MAAA,WAAW,EAAC,aAHhB;AAII,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWC,KAJtB;AAKI,MAAA,QAAQ,EAAE,KAAKX,iBALnB;AAMI,MAAA,QAAQ,MANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACI,MAAA,IAAI,EAAC,UADT;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,WAAW,EAAC,gBAHhB;AAII,MAAA,KAAK,EAAE,KAAKU,KAAL,CAAWE,QAJtB;AAKI,MAAA,QAAQ,EAAE,KAAKZ,iBALnB;AAMI,MAAA,QAAQ,MANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAZJ,EAsBI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBJ,CADJ;AA0BH;;AAvEwC","sourcesContent":["// Login.js\n// Adapted from https://medium.com/@faizanv/authentication-for-your-react-and-express-application-w-json-web-tokens-923515826e0\n\nimport React, { Component } from 'react';\n\nconst AUTH_URL = '/api/authenticate';\n\nexport default class Login extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            email : '',\n            password: ''\n        };\n    }\n\n    handleInputChange = (event) => {\n        const { value, name } = event.target;\n        this.setState({\n            [name]: value\n        });\n    }\n    onSubmit = (event) => {\n        event.preventDefault();\n\n        // TODO: Use fetch to authenticate. For now, just log in\n\n        // fetch(AUTH_URL, {\n        //     method: 'POST',\n        //     body: JSON.stringify(this.state),\n        //     headers: {\n        //         'Content-Type': 'application/json'\n        //     }\n        // })\n        // .then(res => {\n        //     if (res.status === 200) {\n        //         this.props.history.push('/');\n        //     } else {\n        //         const error = new Error(res.error);\n        //         throw error;\n        //     }\n        // })\n        // .catch(err => {\n        //     console.error(err);\n        //     alert('Error logging in please try again');\n        // });\n\n        this.props.history.push('/dashboard')\n\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.onSubmit}>\n                <h1>Login</h1>\n                <div>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"Enter email\"\n                        value={this.state.email}\n                        onChange={this.handleInputChange}\n                        required\n                    />\n                </div>\n                <div>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"Enter password\"\n                        value={this.state.password}\n                        onChange={this.handleInputChange}\n                        required\n                    />\n                </div>\n                <input type=\"submit\" value=\"Submit\"/>\n            </form>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}